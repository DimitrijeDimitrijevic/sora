# Sora Mail Server Configuration
log_output = "stderr"

[database]
host = "localhost"
port = "5432"
user = "postgres"
password = ""
name = "sora_mail_db"
tls = false
log_queries = false

[s3]
endpoint = "s3.amazonaws.com"
access_key = "YOUR_S3_ACCESS_KEY_HERE"
secret_key = "YOUR_S3_SECRET_KEY_HERE"
bucket = "your-sora-mail-bucket"
trace = false

[local_cache]
path = "/tmp/sora/cache"
capacity = "1gb"
max_object_size = "5mb"

[uploader]
path = "/tmp/sora/uploads"
batch_size = 20
concurrency = 10
max_attempts = 5
retry_interval = "30s"

[cleanup]
grace_period = "14d"
wake_interval = "1h"

# Server configurations
[servers]
debug = false

[servers.imap]
start = true
addr = ":143" # Use ":993" for IMAPS default
append_limit = "25mb" # Maximum message size for IMAP APPEND command, unlimited if not defined
master_username = ""
master_password = ""
master_sasl_username = ""
master_sasl_password = ""
tls = false # instead of enable = false
tls_cert_file = "/path/to/your/imap.crt"
tls_key_file = "/path/to/your/imap.key"
tls_verify = true

[servers.lmtp]
start = true
addr = ":24"
external_relay = "" # e.g. "smtp.your-relay.com:25"
tls = false
tls_use_starttls = false
tls_cert_file = "/path/to/your/lmtp.crt"
tls_key_file = "/path/to/your/lmtp.key"
tls_verify = true

[servers.pop3]
start = true
addr = ":110" 
tls = false
tls_cert_file = "/path/to/your/pop3.crt"
tls_key_file = "/path/to/your/pop3.key"
tls_verify = false

[servers.managesieve]
start = true
addr = ":4190"
insecure_auth = false
tls = false
tls_use_starttls = false
tls_cert_file = "/path/to/your/managesieve.crt"
tls_key_file = "/path/to/your/managesieve.key"
tls_verify = true
