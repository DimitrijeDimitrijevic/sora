# Sora Mail Server Configuration

insecure_auth = false
debug = false
log_output = "stderr"

[database]
host = "localhost"
port = "5432"
user = "postgres"
password = ""
name = "sora_mail_db"
tls = false
log_queries = false

[s3]
endpoint = "s3.amazonaws.com"
access_key = "YOUR_S3_ACCESS_KEY_HERE"
secret_key = "YOUR_S3_SECRET_KEY_HERE"
bucket = "your-sora-mail-bucket"
trace = false

[local_cache]
path = "/tmp/sora/cache"
capacity = "1gb"
max_object_size = "5mb"

[uploader]
path = "/tmp/sora/uploads"
batch_size = 20
concurrency = 10
max_attempts = 5
retry_interval = "30s"

[cleanup]
grace_period = "14d"
wake_interval = "1h"

# Server configurations
[servers]

[servers.imap]
start = true
addr = ":143" # Use ":993" for IMAPS default
append_limit = "25mb" # Maximum message size for IMAP APPEND command, unlimited if not defined
master_username = ""
master_password = ""
master_sasl_username = ""
master_sasl_password = ""

[servers.lmtp]
start = true
addr = ":24"

[servers.pop3]
start = true
addr = ":110" # Use ":995" for POP3S default

[servers.managesieve]
start = true
addr = ":4190"

[lmtp]
## The external relay is used in SIEVE redirect and vacation auto responses.
# external_relay = "smtp.your-relay.com:25"

[tls]
insecure_skip_verify = false # Set to true for self-signed certs in dev

  [tls.imap]
  enable = false # Set to true to enable IMAPS
  # cert_file = "/path/to/your/imap.crt"
  # key_file = "/path/to/your/imap.key"

  [tls.pop3]
  enable = false # Set to true to enable POP3S
  # cert_file = "/path/to/your/pop3.crt"
  # key_file = "/path/to/your/pop3.key"

  [tls.lmtp]
  enable = false # Set to true to enable LMTPS (STARTTLS)
  # cert_file = "/path/to/your/lmtp.crt"
  # key_file = "/path/to/your/lmtp.key"

  [tls.managesieve]
  enable = false # Set to true to enable ManageSieve over TLS (STARTTLS)
  # cert_file = "/path/to/your/managesieve.crt"
  # key_file = "/path/to/your/managesieve.key"
